CREATE TABLE ISSUESLISTS
(
    ID SERIAL PRIMARY KEY,
    NAME VARCHAR(100)
);

CREATE TABLE ISSUES
(
    ID SERIAL PRIMARY KEY,
    ISSUESLIST_ID BIGINT UNSIGNED NOT NULL,
    SUMMARY VARCHAR(1024),
    DESCRIPTION VARCHAR(1024),
    FOREIGN KEY (ISSUESLIST_ID) REFERENCES ISSUESLISTS(ID)
);

INSERT INTO ISSUESLISTS(NAME)
VALUES ('ToDo');
INSERT INTO ISSUESLISTS(NAME)
VALUES ('In progres');
INSERT INTO ISSUESLISTS(NAME)
VALUES ('Done');
SELECT * FROM ISSUESLISTS;

INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,'WINDOWS','CLEAN WINDOWS');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,'CARPET','VACUUM CARPET');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,'FLOR','CLEAN FLOR');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,'my room','CLEAN ROOM');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (1,'CORRIDOR','CLEAN CORRIDOR');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,'DISHES','CLEAN DISHES');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,'GARAGE','CLEAN GARAGE');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,'CAR','CLEAN CAR');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,'DINNER','COOK DINNER');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (2,'LUNCH','COOK LUNCH');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (3,'WINDOWS','ALL WINDOWS ARE CLEAR');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (3,'GOD','GOD HAS EAT HIS MEAL AND HE IS SOO PLESURE');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (3,'PARENTS','DRIVE WITH PARENTS TO SHOOP');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (3,'GRNADPARENTS','GO TO SHOOP AND BUY SOME STUFF FOR GRANDPARENTS ');
INSERT INTO ISSUES(ISSUESLIST_ID, SUMMARY, DESCRIPTION)
VALUES (3,'WXXXX','CXXXX');




SELECT * FROM ISSUES;
SELECT * FROM ISSUESLISTS;
SELECT * FROM USERS;
SELECT * FROM POSTS;

SELECT I.SUMMARY, I2.NAME
FROM ISSUES I
         JOIN ISSUESLISTS I2 on I.ISSUESLIST_ID = I2.ID;

SELECT I.SUMMARY, U.FIRSTNAME, U.LASTNAME
FROM ISSUES I
         JOIN USERS U on U.ID = I.ISSUESLIST_ID;

SELECT U.FIRSTNAME, U.LASTNAME, COUNT(*) AS TASK
FROM USERS U JOIN ISSUES I on U.ID = I.ISSUESLIST_ID
GROUP BY ISSUESLIST_ID
HAVING COUNT(*) > 1
ORDER BY U.LASTNAME, U.FIRSTNAME;
